<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>99ä¹˜æ³•è¡¨ç·´ç¿’</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f4f7f6; /* è¼•å¾®çš„ç°è‰²èƒŒæ™¯ */
            color: #333;
        }

        .container {
            background-color: #ffffff;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 500px;
            text-align: center;
        }

        #question {
            font-size: 3em;
            margin-bottom: 20px;
            color: #007bff; /* è—è‰²å•é¡Œæ–‡å­— */
            min-height: 1.5em; /* ç¢ºä¿åœ¨è¼‰å…¥æ™‚æœ‰ç©ºé–“ */
        }

        #answer-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr; /* å…©æ¬„æŒ‰éˆ• */
            gap: 15px;
            margin-bottom: 25px;
        }

        .answer-btn {
            background-color: #28a745; /* ç¶ è‰²æŒ‰éˆ•åº•è‰² */
            color: white;
            border: none;
            padding: 15px 0;
            font-size: 1.5em;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
        }

        .answer-btn:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }

        .answer-btn:active {
            transform: translateY(0);
        }
        
        #result-message {
            font-size: 1.8em;
            font-weight: bold;
            min-height: 1.5em; /* ç¢ºä¿çµæœè¨Šæ¯æœ‰é¡¯ç¤ºç©ºé–“ */
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¢ ä¹˜æ³•å°æ¸¬é©—</h1>
        
        <div id="question"></div>

        <div id="answer-buttons">
            </div>

        <div id="result-message">è«‹é¸æ“‡ä¸€å€‹ç­”æ¡ˆ</div>
    </div>

    <script>
        let correctAnswer = 0;

        /**
         * éš¨æ©Ÿç”Ÿæˆä¸€å€‹ 1 åˆ° 9 ä¹‹é–“çš„æ•´æ•¸ï¼ˆå€‹ä½æ•¸ï¼‰
         */
        function getRandomDigit() {
            // Math.random() ç”¢ç”Ÿ 0 åˆ° 0.999...
            // ä¹˜ä»¥ 9 è®Šæˆ 0 åˆ° 8.999...
            // Math.floor å–æ•´æ•¸è®Šæˆ 0 åˆ° 8
            // + 1 è®Šæˆ 1 åˆ° 9
            return Math.floor(Math.random() * 9) + 1;
        }

        /**
         * ç”¢ç”Ÿä¸€å€‹æ–°çš„ä¹˜æ³•é¡Œç›®
         */
        function generateNewQuestion() {
            // 1. éš¨æ©Ÿç”Ÿæˆå…©å€‹å€‹ä½æ•¸ (1-9)
            const num1 = getRandomDigit();
            const num2 = getRandomDigit();

            // è¨ˆç®—æ­£ç¢ºç­”æ¡ˆ
            correctAnswer = num1 * num2;

            // é¡¯ç¤ºé¡Œç›®
            document.getElementById('question').innerHTML = `${num1} &times; ${num2} = ?`;

            // 2. ç”¢ç”Ÿå››å€‹å¯èƒ½çš„ç­”æ¡ˆæŒ‰éˆ•
            generateAnswerOptions();

            // æ¸…é™¤çµæœè¨Šæ¯
            document.getElementById('result-message').innerHTML = 'è«‹é¸æ“‡ä¸€å€‹ç­”æ¡ˆ';
            document.getElementById('result-message').style.color = '#333';
        }

        /**
         * ç”¢ç”Ÿç­”æ¡ˆæŒ‰éˆ•ä¸¦æ”¾å…¥æ­£ç¢ºç­”æ¡ˆ
         */
        function generateAnswerOptions() {
            const optionsContainer = document.getElementById('answer-buttons');
            optionsContainer.innerHTML = ''; // æ¸…ç©ºèˆŠæŒ‰éˆ•
            
            const options = new Set();
            options.add(correctAnswer); // ç¢ºä¿æ­£ç¢ºç­”æ¡ˆä¸€å®šåœ¨é¸é …ä¸­

            // ç”¢ç”Ÿä¸‰å€‹éŒ¯èª¤ç­”æ¡ˆ
            while (options.size < 4) {
                let wrongAnswer;
                // ç”¢ç”Ÿä¸€å€‹æ¥è¿‘æ­£ç¢ºç­”æ¡ˆçš„éŒ¯èª¤ç­”æ¡ˆ
                // ç¯„åœè¨­å®šç‚ºæ­£ç¢ºç­”æ¡ˆæ­£è²  5 æˆ– 10ï¼Œä½†ä¸èƒ½æ˜¯è² æ•¸æˆ–æ­£ç¢ºç­”æ¡ˆæœ¬èº«
                const minVal = Math.max(1, correctAnswer - 5);
                const maxVal = correctAnswer + 5;
                
                // ç”¢ç”Ÿä¸€å€‹åœ¨ç¯„åœå…§ä¸”ä¸æ˜¯æ­£ç¢ºç­”æ¡ˆçš„éš¨æ©Ÿæ•¸
                do {
                    wrongAnswer = Math.floor(Math.random() * (maxVal - minVal + 1)) + minVal;
                } while (options.has(wrongAnswer) || wrongAnswer === correctAnswer);

                options.add(wrongAnswer);
            }

            // å°‡ Set è½‰æ›ç‚ºé™£åˆ—ï¼Œä¸¦éš¨æ©Ÿæ‰“äº‚é †åº
            const shuffledOptions = Array.from(options).sort(() => Math.random() - 0.5);

            // å‰µå»ºä¸¦é¡¯ç¤ºæŒ‰éˆ•
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.innerHTML = option;
                button.value = option;
                // ç‚ºæ¯å€‹æŒ‰éˆ•æ·»åŠ é»æ“Šäº‹ä»¶è™•ç†
                button.onclick = checkAnswer; 
                optionsContainer.appendChild(button);
            });
        }

        /**
         * æª¢æŸ¥ä½¿ç”¨è€…é¸æ“‡çš„ç­”æ¡ˆæ˜¯å¦æ­£ç¢º
         */
        function checkAnswer(event) {
            const selectedAnswer = parseInt(event.target.value);
            const resultMessage = document.getElementById('result-message');
            
            if (selectedAnswer === correctAnswer) {
                // 2. é¸æ“‡æ­£ç¢ºç­”æ¡ˆ
                resultMessage.innerHTML = 'âœ… å›ç­”**æ­£ç¢º**ï¼å¤ªæ£’äº†ï¼';
                resultMessage.style.color = '#28a745'; // ç¶ è‰²
            } else {
                // 3. é¸æ“‡éŒ¯èª¤ç­”æ¡ˆ
                resultMessage.innerHTML = `âŒ å›ç­”**éŒ¯èª¤**ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ ${correctAnswer}ã€‚`;
                resultMessage.style.color = '#dc3545'; // ç´…è‰²
            }

            // 4. ä¸è«–æ­£ç¢ºæˆ–éŒ¯èª¤ï¼Œé¡¯ç¤ºä¸‹ä¸€é¡Œ
            // å»¶é² 1.5 ç§’å¾Œç”Ÿæˆä¸‹ä¸€é¡Œï¼Œè®“ä½¿ç”¨è€…æœ‰æ™‚é–“çœ‹åˆ°çµæœ
            setTimeout(generateNewQuestion, 1500); 
            
            // æš«æ™‚ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•ï¼Œé˜²æ­¢é€£çºŒé»æ“Š
            document.querySelectorAll('.answer-btn').forEach(btn => btn.onclick = null);
        }

        // ç¶²é è¼‰å…¥å¾Œï¼Œç«‹å³ç”Ÿæˆç¬¬ä¸€é“é¡Œç›®
        window.onload = generateNewQuestion;
    </script>
</body>
</html>